(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function le(){}function Qt(e){return e()}function _t(){return Object.create(null)}function we(e){e.forEach(Qt)}function Zt(e){return typeof e=="function"}function Je(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function nn(e){return Object.keys(e).length===0}function m(e,t){e.appendChild(t)}function A(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function fe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function T(){return k(" ")}function he(){return k("")}function te(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function i(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ge(e){return e===""?null:+e}function ln(e){return Array.from(e.childNodes)}function R(e,t){t=""+t,e.data!==t&&(e.data=t)}function ne(e,t){e.value=t??""}function rn(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function je(e,t,n){for(let l=0;l<e.options.length;l+=1){const r=e.options[l];if(r.__value===t){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function dt(e){const t=e.querySelector(":checked");return t&&t.__value}let Qe;function Be(e){Qe=e}const ve=[],pt=[];let ke=[];const gt=[],on=Promise.resolve();let Ke=!1;function an(){Ke||(Ke=!0,on.then($t))}function ze(e){ke.push(e)}const Ve=new Set;let ge=0;function $t(){if(ge!==0)return;const e=Qe;do{try{for(;ge<ve.length;){const t=ve[ge];ge++,Be(t),sn(t.$$)}}catch(t){throw ve.length=0,ge=0,t}for(Be(null),ve.length=0,ge=0;pt.length;)pt.pop()();for(let t=0;t<ke.length;t+=1){const n=ke[t];Ve.has(n)||(Ve.add(n),n())}ke.length=0}while(ve.length);for(;gt.length;)gt.pop()();Ke=!1,Ve.clear(),Be(e)}function sn(e){if(e.fragment!==null){e.update(),we(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ze)}}function cn(e){const t=[],n=[];ke.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),ke=t}const Le=new Set;let se;function vt(){se={r:0,c:[],p:se}}function bt(){se.r||we(se.c),se=se.p}function $(e,t){e&&e.i&&(Le.delete(e),e.i(t))}function be(e,t,n,l){if(e&&e.o){if(Le.has(e))return;Le.add(e),se.c.push(()=>{Le.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function xt(e){e&&e.c()}function Ze(e,t,n,l){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),l||ze(()=>{const a=e.$$.on_mount.map(Qt).filter(Zt);e.$$.on_destroy?e.$$.on_destroy.push(...a):we(a),e.$$.on_mount=[]}),o.forEach(ze)}function $e(e,t){const n=e.$$;n.fragment!==null&&(cn(n.after_update),we(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fn(e,t){e.$$.dirty[0]===-1&&(ve.push(e),an(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,l,r,o,a,u=[-1]){const c=Qe;Be(e);const s=e.$$={fragment:null,ctx:[],props:o,update:le,not_equal:r,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:_t(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};a&&a(s.root);let h=!1;if(s.ctx=n?n(e,t.props||{},(f,_,...p)=>{const g=p.length?p[0]:_;return s.ctx&&r(s.ctx[f],s.ctx[f]=g)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](g),h&&fn(e,f)),_}):[],s.update(),h=!0,we(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const f=ln(t.target);s.fragment&&s.fragment.l(f),f.forEach(I)}else s.fragment&&s.fragment.c();t.intro&&$(e.$$.fragment),Ze(e,t.target,t.anchor,t.customElement),$t()}Be(c)}class et{$destroy(){$e(this,1),this.$destroy=le}$on(t,n){if(!Zt(n))return le;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!nn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function yt(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function kt(e,t,n){const l=e.slice();return l[15]=t[n],l[17]=n,l}function wt(e,t,n){const l=e.slice();return l[18]=t[n],l[17]=n,l}function It(e){let t,n,l,r=e[1](e[17])===2,o,a=r&&At(e);return{c(){t=C("circle"),a&&a.c(),o=he(),i(t,"cy",n=e[7]()+(e[1](e[17])===2?e[7]()/3:0)),i(t,"cx",l=e[5](e[17]+1)),i(t,"r",8),i(t,"fill","rgba(100, 100, 100, .5)")},m(u,c){A(u,t,c),a&&a.m(u,c),A(u,o,c)},p(u,c){c&2&&n!==(n=u[7]()+(u[1](u[17])===2?u[7]()/3:0))&&i(t,"cy",n),c&32&&l!==(l=u[5](u[17]+1))&&i(t,"cx",l),c&2&&(r=u[1](u[17])===2),r?a?a.p(u,c):(a=At(u),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(u){u&&I(t),a&&a.d(u),u&&I(o)}}}function At(e){let t,n;return{c(){t=C("circle"),i(t,"cy",e[7]()-e[7]()/3),i(t,"cx",n=e[5](e[17]+1)),i(t,"r",8),i(t,"fill","#aaa")},m(l,r){A(l,t,r)},p(l,r){r&32&&n!==(n=l[5](l[17]+1))&&i(t,"cx",n)},d(l){l&&I(t)}}}function St(e){let t,n,l,r,o=e[17]+1+"",a,u,c=e[1](e[17])!==0,s,h=c&&It(e);return{c(){t=C("rect"),r=C("text"),a=k(o),h&&h.c(),s=he(),i(t,"x",n=e[3](e[17]+1)),i(t,"y","0"),i(t,"width",e[17]===0?4:2),i(t,"height",ce-Ee),i(t,"fill",l=e[2].fret),i(r,"x",u=e[5](e[17]+1)),i(r,"y",ce-Ee/2),i(r,"dominant-baseline","middle"),i(r,"text-anchor","middle"),i(r,"class","svelte-1pxvyqd")},m(f,_){A(f,t,_),A(f,r,_),m(r,a),h&&h.m(f,_),A(f,s,_)},p(f,_){_&8&&n!==(n=f[3](f[17]+1))&&i(t,"x",n),_&4&&l!==(l=f[2].fret)&&i(t,"fill",l),_&32&&u!==(u=f[5](f[17]+1))&&i(r,"x",u),_&2&&(c=f[1](f[17])!==0),c?h?h.p(f,_):(h=It(f),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null)},d(f){f&&I(t),f&&I(r),h&&h.d(f),f&&I(s)}}}function Nt(e){let t,n,l,r;return{c(){t=C("circle"),i(t,"cx",n=e[5](e[17])),i(t,"cy",l=e[6](e[14])),i(t,"r",19),i(t,"fill",r=[1,"1","I","T"].indexOf(e[15].interval)!==-1?e[2].key.root:e[2].key.selected),i(t,"stroke","rgba(0, 0, 0, .9)"),i(t,"stroke-width","1")},m(o,a){A(o,t,a)},p(o,a){a&32&&n!==(n=o[5](o[17]))&&i(t,"cx",n),a&64&&l!==(l=o[6](o[14]))&&i(t,"cy",l),a&5&&r!==(r=[1,"1","I","T"].indexOf(o[15].interval)!==-1?o[2].key.root:o[2].key.selected)&&i(t,"fill",r)},d(o){o&&I(t)}}}function Bt(e){let t,n=(e[15].active?`${e[15].interval}/${e[15].name}`:e[15].name)+"",l,r,o,a,u=e[15].active&&Nt(e);return{c(){u&&u.c(),t=C("text"),l=k(n),i(t,"x",r=e[5](e[17])),i(t,"y",o=e[6](e[14])+1),i(t,"dominant-baseline","middle"),i(t,"text-anchor","middle"),i(t,"fill",a=`rgba(0, 0, 0, ${e[15].active?"1":".6"})`),i(t,"class","svelte-1pxvyqd")},m(c,s){u&&u.m(c,s),A(c,t,s),m(t,l)},p(c,s){c[15].active?u?u.p(c,s):(u=Nt(c),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),s&1&&n!==(n=(c[15].active?`${c[15].interval}/${c[15].name}`:c[15].name)+"")&&R(l,n),s&32&&r!==(r=c[5](c[17]))&&i(t,"x",r),s&64&&o!==(o=c[6](c[14])+1)&&i(t,"y",o),s&1&&a!==(a=`rgba(0, 0, 0, ${c[15].active?"1":".6"})`)&&i(t,"fill",a)},d(c){u&&u.d(c),c&&I(t)}}}function Et(e){let t,n,l,r,o,a=e[12],u=[];for(let c=0;c<a.length;c+=1)u[c]=Bt(kt(e,a,c));return{c(){t=C("rect");for(let c=0;c<u.length;c+=1)u[c].c();o=he(),i(t,"x",n=e[3](1)),i(t,"y",l=e[6](e[14])),i(t,"width",He),i(t,"height",1+Math.round(2/(e[14]+1)*100)/100),i(t,"fill",r=e[2].cord)},m(c,s){A(c,t,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(c,s);A(c,o,s)},p(c,s){if(s&8&&n!==(n=c[3](1))&&i(t,"x",n),s&64&&l!==(l=c[6](c[14]))&&i(t,"y",l),s&4&&r!==(r=c[2].cord)&&i(t,"fill",r),s&101){a=c[12];let h;for(h=0;h<a.length;h+=1){const f=kt(c,a,h);u[h]?u[h].p(f,s):(u[h]=Bt(f),u[h].c(),u[h].m(o.parentNode,o))}for(;h<u.length;h+=1)u[h].d(1);u.length=a.length}},d(c){c&&I(t),fe(u,c),c&&I(o)}}}function un(e){let t,n,l,r,o=Array(e[4]),a=[];for(let s=0;s<o.length;s+=1)a[s]=St(wt(e,o,s));let u=e[0],c=[];for(let s=0;s<u.length;s+=1)c[s]=Et(yt(e,u,s));return{c(){t=C("svg"),n=C("rect");for(let s=0;s<a.length;s+=1)a[s].c();r=he();for(let s=0;s<c.length;s+=1)c[s].c();i(n,"width","100%"),i(n,"height","100%"),i(n,"fill",l=e[2].background),i(t,"width",He),i(t,"height",ce),i(t,"viewBox",`0 0 ${He} ${ce}`),i(t,"class","svelte-1pxvyqd")},m(s,h){A(s,t,h),m(t,n);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null);m(t,r);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(t,null)},p(s,[h]){if(h&4&&l!==(l=s[2].background)&&i(n,"fill",l),h&190){o=Array(s[4]);let f;for(f=0;f<o.length;f+=1){const _=wt(s,o,f);a[f]?a[f].p(_,h):(a[f]=St(_),a[f].c(),a[f].m(t,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}if(h&109){u=s[0];let f;for(f=0;f<u.length;f+=1){const _=yt(s,u,f);c[f]?c[f].p(_,h):(c[f]=Et(_),c[f].c(),c[f].m(t,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=u.length}},i:le,o:le,d(s){s&&I(t),fe(a,s),fe(c,s)}}}const He=1e3,ce=280,Ee=30;function hn(e,t,n){let l,r,o,a,u,c,s,{scales:h}=t,{fretDecoration:f=v=>[0,0,1,0,1,0,1,0,1,0,0,2][v%12]}=t;const _={background:"transparent",cord:"rgba(0,0,0,.5)",fret:"rgb(50,50,50)",key:{selected:"rgba(255, 70, 85, .85)",root:"rgba(250, 140, 40, .85)"}};let{colors:p=_}=t;const g=()=>(ce-Ee)/2;return e.$$set=v=>{"scales"in v&&n(0,h=v.scales),"fretDecoration"in v&&n(1,f=v.fretDecoration),"colors"in v&&n(2,p=v.colors)},e.$$.update=()=>{e.$$.dirty&1&&n(11,l=h.length),e.$$.dirty&1&&n(4,r=(h??[[]])[0].length-1),e.$$.dirty&16&&n(9,o=He/(r+.7)),e.$$.dirty&2048&&n(10,a=(ce-Ee)/l),e.$$.dirty&1024&&n(6,u=v=>ce-Ee-a*v-a/2),e.$$.dirty&512&&n(3,c=v=>o*v-o/3),e.$$.dirty&520&&n(5,s=v=>v===0?c(v)+o/1.5:c(v)+o/2)},[h,f,p,c,r,s,u,g,_,o,a,l]}class mn extends et{constructor(t){super(),xe(this,t,hn,un,Je,{scales:0,fretDecoration:1,defaultColors:8,colors:2})}get defaultColors(){return this.$$.ctx[8]}}function zt(e,t,n){const l=e.slice();return l[10]=t[n],l[12]=n,l}function Tt(e,t,n){const l=e.slice();return l[10]=t[n],l[12]=n,l}function Ct(e){let t,n,l,r,o,a=e[12]+1+"",u,c,s,h=(e[10].active?`${e[10].interval}/${e[10].name}`:e[10].name)+"",f,_,p;return{c(){t=C("g"),n=C("rect"),o=C("text"),u=k(a),s=C("text"),f=k(h),i(n,"x",0),i(n,"y",e[3].top),i(n,"width",l=e[2]-Ue),i(n,"height",e[4]),i(n,"fill",r=e[10].active?"#f4b4b4":"#f4f4f4"),i(o,"x",c=e[2]/2),i(o,"y",(ue-e[3].bottom)*.95),i(o,"fill","#000"),i(o,"dominant-baseline","middle"),i(o,"text-anchor","middle"),i(o,"class","svelte-kzf8t5"),i(s,"x",_=e[2]/2),i(s,"y",ue*.75),i(s,"dominant-baseline","middle"),i(s,"text-anchor","middle"),i(s,"fill","rgba(0, 0, 0, 1)"),i(s,"class","svelte-kzf8t5"),i(t,"class","key"),i(t,"transform",p=`translate(${e[5](e[12],e[2])})`)},m(g,v){A(g,t,v),m(t,n),m(t,o),m(o,u),m(t,s),m(s,f)},p(g,v){v&4&&l!==(l=g[2]-Ue)&&i(n,"width",l),v&1&&r!==(r=g[10].active?"#f4b4b4":"#f4f4f4")&&i(n,"fill",r),v&4&&c!==(c=g[2]/2)&&i(o,"x",c),v&1&&h!==(h=(g[10].active?`${g[10].interval}/${g[10].name}`:g[10].name)+"")&&R(f,h),v&4&&_!==(_=g[2]/2)&&i(s,"x",_),v&4&&p!==(p=`translate(${g[5](g[12],g[2])})`)&&i(t,"transform",p)},d(g){g&&I(t)}}}function Ft(e){let t,n=e[10].tone&&Ct(e);return{c(){n&&n.c(),t=he()},m(l,r){n&&n.m(l,r),A(l,t,r)},p(l,r){l[10].tone?n?n.p(l,r):(n=Ct(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&I(t)}}}function Dt(e){let t,n,l,r,o,a,u=e[12]+1+"",c,s,h=(e[10].active?`${e[10].interval}/${e[10].name}`:e[10].name)+"",f,_;return{c(){t=C("g"),n=C("rect"),a=C("text"),c=k(u),s=C("text"),f=k(h),i(n,"x",l=-e[2]*.9/2),i(n,"y",e[3].top),i(n,"width",r=e[2]*.9),i(n,"height",ue*.55),i(n,"fill",o=e[10].active?"#912":"#000"),i(a,"y",20),i(a,"fill","#fff"),i(a,"dominant-baseline","middle"),i(a,"text-anchor","middle"),i(a,"class","svelte-kzf8t5"),i(s,"y",ue*.25),i(s,"dominant-baseline","middle"),i(s,"text-anchor","middle"),i(s,"fill","#fff"),i(s,"class","svelte-kzf8t5"),i(t,"class","key"),i(t,"transform",_=`translate(${e[5](e[12],e[2])+e[2]})`)},m(p,g){A(p,t,g),m(t,n),m(t,a),m(a,c),m(t,s),m(s,f)},p(p,g){g&4&&l!==(l=-p[2]*.9/2)&&i(n,"x",l),g&4&&r!==(r=p[2]*.9)&&i(n,"width",r),g&1&&o!==(o=p[10].active?"#912":"#000")&&i(n,"fill",o),g&1&&h!==(h=(p[10].active?`${p[10].interval}/${p[10].name}`:p[10].name)+"")&&R(f,h),g&4&&_!==(_=`translate(${p[5](p[12],p[2])+p[2]})`)&&i(t,"transform",_)},d(p){p&&I(t)}}}function Mt(e){let t,n=!e[10].tone&&Dt(e);return{c(){n&&n.c(),t=he()},m(l,r){n&&n.m(l,r),A(l,t,r)},p(l,r){l[10].tone?n&&(n.d(1),n=null):n?n.p(l,r):(n=Dt(l),n.c(),n.m(t.parentNode,t))},d(l){n&&n.d(l),l&&I(t)}}}function _n(e){let t,n,l,r,o=e[0],a=[];for(let s=0;s<o.length;s+=1)a[s]=Ft(Tt(e,o,s));let u=e[0],c=[];for(let s=0;s<u.length;s+=1)c[s]=Mt(zt(e,u,s));return{c(){t=C("svg"),n=C("rect");for(let s=0;s<a.length;s+=1)a[s].c();r=he();for(let s=0;s<c.length;s+=1)c[s].c();i(n,"width","100%"),i(n,"height","100%"),i(n,"fill",l=e[1].background),i(t,"width",qe),i(t,"height",ue),i(t,"viewBox",`0 0 ${qe} ${ue}`),i(t,"class","svelte-kzf8t5")},m(s,h){A(s,t,h),m(t,n);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null);m(t,r);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(t,null)},p(s,[h]){if(h&2&&l!==(l=s[1].background)&&i(n,"fill",l),h&61){o=s[0];let f;for(f=0;f<o.length;f+=1){const _=Tt(s,o,f);a[f]?a[f].p(_,h):(a[f]=Ft(_),a[f].c(),a[f].m(t,r))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}if(h&45){u=s[0];let f;for(f=0;f<u.length;f+=1){const _=zt(s,u,f);c[f]?c[f].p(_,h):(c[f]=Mt(_),c[f].c(),c[f].m(t,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=u.length}},i:le,o:le,d(s){s&&I(t),fe(a,s),fe(c,s)}}}const qe=1e3,ue=240,Ue=2;function dn(e,t,n){let l,r;const o={background:"#000",key:{black:"#222",white:"#fff",root:"rgba(250, 140, 80, .85)",default:"rgba(255, 80, 80, .85)"}};let{scale:a=[]}=t,{colors:u=o}=t;const c={top:2,bottom:2,left:2,right:2},s=ue-c.bottom-c.top;let h=[],f=0;const _=(p,g)=>{if(p===0||p===1)return c.left;if(g!==f&&(h=[]),h[p])return h[p];const v=_(p-1,g);return h[p]=v,a[p]&&a[p].tone&&(h[p]+=g),f=g,h[p]};return e.$$set=p=>{"scale"in p&&n(0,a=p.scale),"colors"in p&&n(1,u=p.colors)},e.$$.update=()=>{e.$$.dirty&1&&n(7,l=a.filter(p=>p.tone)),e.$$.dirty&128&&n(2,r=(qe+Ue-c.left-c.right)/l.length)},[a,u,r,c,s,_,o,l]}class pn extends et{constructor(t){super(),xe(this,t,dn,_n,Je,{defaultColors:6,scale:0,colors:1})}get defaultColors(){return this.$$.ctx[6]}}const ye=[["1"],["2-"],["2"],["3-","2+"],["3"],["4"],["4+","5-"],["5"],["5+","6-"],["6"],["7-","6+"],["7"]],gn=(e,t)=>Object.keys(e).find(n=>e[n]===t),vn=e=>{let t=-1;return ye.find((n,l)=>(n.find(r=>{if(r===e)return t=l,!0}),t!==-1)),t},bn=e=>(Array.isArray(e)||(e=e.replace(/ *[,\|]+ */g," ").split(" ")),e.map(vn)),yn=e=>{const t=bn(e),n=new Array(ye.length).fill(0);return t.forEach(l=>n[l]=1),n},Ot=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,l])=>[n,l[t]])),tt=(e,t,n)=>(Ye(n,e)-Ye(t,e)+12)%12,kn=e=>e.split("").map(t=>parseInt(t,16).toString(2).padStart(4,"0")).join(""),wn=e=>parseInt(e,10).toString(2).padStart(8,"0"),In=(e,t)=>{const n=e.length;return e.slice(t%n,n).concat(e.slice(0,t%n))},An=e=>e.replace(/[-, \t]+/g," ").replaceAll("5H","1 0 0 0 0").replaceAll("2T","1 0 0 0 ").replaceAll("2W","1 0 0 0 ").replaceAll("T1/2","1 0 0 ").replaceAll("W1/2","1 0 0 ").replaceAll("3W2","1 0 0 ").replaceAll("3H","1 0 0 ").replaceAll("T","1 0 ").replaceAll("W","1 0 ").replaceAll("S","1 ").replaceAll("H","1 ").trim(),Sn=e=>{const t=[],n=Math.log2(e)+1|0;for(let l=0;l<n;++l)t[n-l-1]=e&1,e=e>>1;return t},Nn=e=>An(e).split(/ +/).map(t=>+t).filter(t=>t===0||t===1),jt=e=>{let t=0,n=[];return e.forEach((l,r)=>{l===1&&r!==0&&(n.push(t),t=0),t++}),n.push(t),n},Lt=(e,t=["H","W","3H","2W","5H","3W","7H","4W","9H","5W"])=>e.map(n=>t[n-1]),Xe=e=>(e??"").replace(/[\+\-]*/g,""),en=e=>e===""?["",""]:[e.slice(0,1),e.slice(1,e.length)],Bn=e=>(e&&e[0]==="-"?-1:1)*e.length|0,tn=e=>{const[t,n]=en(e);return[t,Bn(n)]},Ye=(e,t)=>{const[n,l]=tn(e);return+gn(t,n)+l},En=e=>{const t={};return e.map((n,l)=>{if(n!==1)return null;l=l%ye.length;let[r]=ye[l],o=Xe(r);return t[o]===!0&&(r=ye[l][1]??ye[l][0],o=Xe(r)),t[o]=!0,r})},zn=(e,t)=>{const n=t<0?"-".repeat(-t):"+".repeat(t);return`${e}${n}`},Tn=(e,t,n,l)=>{const r=tt(l,e,t),o=n-r;return zn(t,o)},Cn=(e,t,n,l=1)=>{const r=Object.values(n),o=r.length,[a,u]=tn(t),c=r.indexOf(a);return e.map((s,h)=>{if(s===null)return null;const[f]=en(s),_=(+f-1+c)%o;let p=r[_],g=Xe(p);return Tn(a,g,h+u,n)})},Fn=(e,t,n,l,r,o={},a=12)=>{const u=Ye(n,r),c=Cn(e,t,r),s=tt(r,n,t);return[...Array(l)].map((h,f)=>{const _=(f-s+a)%a,p=e[_],g=c[_]||r[(u+f)%a]||r[(u+f-1)%a]+"+";return{interval:o.intervals[p]||p,tone:!!r[(u+f)%a],name:o.notes?o.notes[g]??g:g,active:c[_]||!1}})},z={common:"common",indian:"indian",carnatic:"carnatic",hindustani:"hindustani"},w=(e,t=[])=>({name:e,tags:Array.isArray(t)?t:[t]}),Pe={12:{2773:[w("Major"),w("Ionian"),w("Ionian"),w("Dheerasankarabharanam",z.carnatic),w("Bilaval",z.hindustani)],3676:[w("Kanakangi",z.carnatic)],3674:[w("Ratnangi",z.carnatic)],3673:[w("Ganamurti",z.carnatic)],3670:[w("Vanaspati",z.carnatic)],3669:[w("Manavati",z.carnatic)],3667:[w("Tanarupi",z.carnatic)],3420:[w("Senavati",z.carnatic)],3417:[w("Dhenuka",z.carnatic)],3414:[w("Natakapriya",z.carnatic)],3413:[w("Kokilapriya",z.carnatic)],3411:[w("Rupavati",z.carnatic)],3292:[w("Gayakapriya",z.carnatic)],3290:[w("Vakulabharanam",z.carnatic)],3289:[{name:"Byzantine"},w("Mayamalavagowla",z.carnatic),w("Bhairav",z.hindustani)],3286:[w("Chakravakam",z.carnatic)],3285:[w("Suryakantam",z.carnatic)],3283:[w("Hatakambari",z.carnatic)],2908:[w("Jhankaradhvani",z.carnatic)],2906:[w("Minor"),w("Aeolian"),w("Natabhairavi",z.carnatic)],2905:[w("Harmonic Minor"),w("Keeravani",z.carnatic)],2901:[{name:"Melodic Minor"}],2902:[{name:"Dorian"}],3418:[{name:"Phrygian"},w("Hanumatodi",z.carnatic)],2741:[{name:"Lydian"}],2774:[{name:"Mixolydian"}],3434:[{name:"Locrian"}],2730:[{name:"Whole-tone"}],4095:[{name:"Chromatic"}],2386:[{name:"Pentatonic Minor"}]}},Dn=(e=12)=>Pe[e]??{},Gt=(e,t=12)=>{const n=Object.entries(Dn(t)).map(([l,r])=>[+l,r.filter(({tags:o})=>o?o.includes(e[0]):!0)]).filter(([,l])=>l.length!==0);return Object.fromEntries(n)},Ht=(e,t=12)=>Object.values(Pe[t][+e]??[]).map(n=>n.name??""),Pt=(e,t=12)=>Pe[t]&&Pe[t][+(e??0)],Wt={chromaticVariants:{"C--":{english:"C♭♭",romance:"Do♭♭"},"C-":{english:"C♭",romance:"Do♭"},C:{english:"C",romance:"Do"},"C+":{english:"C♯",romance:"Do♯"},"C++":{english:"C♯♯",romance:"Do♯♯"},"D--":{english:"D♭♭",romance:"Re♭♭"},"D-":{english:"D♭",romance:"Re♭"},D:{english:"D",romance:"Re"},"D+":{english:"D♯",romance:"Re♯"},"D++":{english:"D♯♯",romance:"Re♯♯"},"E--":{english:"E♭♭",romance:"Mi♭♭"},"E-":{english:"E♭",romance:"Mi♭"},E:{english:"E",romance:"Mi"},"E+":{english:"E♯",romance:"Mi♯"},"E++":{english:"E♯♯",romance:"Mi♯♯"},"F--":{english:"F♭♭",romance:"Fa♭♭"},"F-":{english:"F♭",romance:"Fa♭"},F:{english:"F",romance:"MFa"},"F+":{english:"F♯",romance:"Fa♯"},"F++":{english:"F♯♯",romance:"Fa♯♯"},"G--":{english:"G♭♭",romance:"Mi♭♭"},"G-":{english:"G♭",romance:"Mi♭"},G:{english:"G",romance:"Mi"},"G+":{english:"G♯",romance:"Mi♯"},"G++":{english:"G♯♯",romance:"Mi♯♯"},"A--":{english:"A♭♭",romance:"La♭♭"},"A-":{english:"A♭",romance:"La♭"},A:{english:"A",romance:"La"},"A+":{english:"A♯",romance:"La♯"},"A++":{english:"A♯♯",romance:"La♯♯"},"B--":{english:"B♭♭",romance:"Si♭♭"},"B-":{english:"B♭",romance:"Si♭"},B:{english:"B",romance:"Si"},"B+":{english:"B♯",romance:"Si♯"},"B++":{english:"B♯♯",romance:"Si♯♯"}},interval:{1:{english:"1",roman:"I"},"2-":{english:"2♭",roman:"ii"},2:{english:"2",roman:"II"},"2+":{english:"2♯",roman:"II"},"3-":{english:"3♭",roman:"iii"},3:{english:"3",roman:"III"},4:{english:"4",roman:"IV"},"4+":{english:"4♯",roman:"IV"},"5-":{english:"5♭",roman:"v"},5:{english:"5",roman:"V"},"5+":{english:"5♯",roman:"V"},"6-":{english:"6♭",roman:"vi"},6:{english:"6",roman:"VI"},"6+":{english:"6♯",roman:"VI"},"7-":{english:"7♭",roman:"vii"},7:{english:"7",roman:"VII"}}};function Rt(e,t,n){const l=e.slice();return l[31]=t[n][0],l[32]=t[n][1],l}function Vt(e,t,n){const l=e.slice();return l[35]=t[n],l}function Kt(e){let t,n=e[8].filter(Boolean).map(e[16])+"",l,r;return{c(){t=k("("),l=k(n),r=k(")")},m(o,a){A(o,t,a),A(o,l,a),A(o,r,a)},p(o,a){a[0]&320&&n!==(n=o[8].filter(Boolean).map(o[16])+"")&&R(l,n)},d(o){o&&I(t),o&&I(l),o&&I(r)}}}function qt(e){let t,n,l=e[5].length<O?"short":"",r,o,a=e[5].length>O?"long":"",u;return{c(){t=y("span"),n=k("Scale is too "),r=k(l),o=T(),u=k(a),i(t,"class","warning svelte-yzdut8")},m(c,s){A(c,t,s),m(t,n),m(t,r),m(t,o),m(t,u)},p(c,s){s[0]&32&&l!==(l=c[5].length<O?"short":"")&&R(r,l),s[0]&32&&a!==(a=c[5].length>O?"long":"")&&R(u,a)},d(c){c&&I(t)}}}function Mn(e){let t,n,l,r,o,a;return{c(){t=y("br"),n=T(),l=y("small"),r=y("code"),o=k("steps: "),a=k(e[5])},m(u,c){A(u,t,c),A(u,n,c),A(u,l,c),m(l,r),m(r,o),m(r,a)},p(u,c){c[0]&32&&R(a,u[5])},d(u){u&&I(t),u&&I(n),u&&I(l)}}}function Ut(e){let t,n,l;return n=new pn({props:{scale:e[11]}}),{c(){t=y("div"),xt(n.$$.fragment),i(t,"id","keyboard"),i(t,"class","svelte-yzdut8")},m(r,o){A(r,t,o),Ze(n,t,null),l=!0},p(r,o){const a={};o[0]&2048&&(a.scale=r[11]),n.$set(a)},i(r){l||($(n.$$.fragment,r),l=!0)},o(r){be(n.$$.fragment,r),l=!1},d(r){r&&I(t),$e(n)}}}function Xt(e){let t,n,l;return n=new mn({props:{scales:e[10]}}),{c(){t=y("div"),xt(n.$$.fragment),i(t,"id","fretboard"),i(t,"class","svelte-yzdut8")},m(r,o){A(r,t,o),Ze(n,t,null),l=!0},p(r,o){const a={};o[0]&1024&&(a.scales=r[10]),n.$set(a)},i(r){l||($(n.$$.fragment,r),l=!0)},o(r){be(n.$$.fragment,r),l=!1},d(r){r&&I(t),$e(n)}}}function Yt(e){let t,n=(e[7][e[35]]??e[35])+"",l,r;return{c(){t=y("option"),l=k(n),r=T(),t.__value=e[35],t.value=t.__value},m(o,a){A(o,t,a),m(t,l),m(t,r)},p(o,a){a[0]&128&&n!==(n=(o[7][o[35]]??o[35])+"")&&R(l,n)},d(o){o&&I(t)}}}function Jt(e){let t,n=e[32].map(Ln).join("/")+"",l,r;return{c(){t=y("option"),l=k(n),r=T(),t.__value=wn(e[31]).split("").join(" "),t.value=t.__value},m(o,a){A(o,t,a),m(t,l),m(t,r)},p:le,d(o){o&&I(t)}}}function On(e){let t,n,l,r,o=(e[7][e[2]]??e[2])+"",a,u,c=(Pt(e[3],O)?Ht(e[3],O).join("/"):"(unknown)")+"",s,h,f,_,p,g=Lt(jt(e[5])).join("-")+"",v,U,P,Te,Ie,me,W,X,F,Ae,x,Y,Ce,re,Fe,Se,De,V,Me,ie,S,N,B,_e,We,Q,nt,lt,rt,Z,it,ot,at,K,st,J,Oe,ct,oe,ft,ut,ht,q,ee,Re,mt,G=e[8].length>0&&Kt(e),H=e[5].length!==O&&qt(e),ae=e[12]&&Mn(e),D=e[1].show&&Ut(e),M=e[0].show&&Xt(e),de=e[13](),j=[];for(let d=0;d<de.length;d+=1)j[d]=Yt(Vt(e,de,d));let pe=Object.entries(Gt([],O)),L=[];for(let d=0;d<pe.length;d+=1)L[d]=Jt(Rt(e,pe,d));return{c(){t=y("main"),n=y("div"),l=y("h2"),r=k(`Gamme –
      `),a=k(o),u=T(),s=k(c),h=k(` scale
      `),G&&G.c(),f=T(),_=y("div"),p=k("Intervals: "),v=k(g),U=T(),H&&H.c(),P=T(),ae&&ae.c(),Te=T(),D&&D.c(),Ie=T(),M&&M.c(),me=T(),W=y("div"),X=y("div"),F=y("select");for(let d=0;d<j.length;d+=1)j[d].c();Ae=T(),x=y("div"),Y=y("input"),Ce=T(),re=y("span"),Fe=k("Input type: "),Se=k(e[9]),De=T(),V=y("select");for(let d=0;d<L.length;d+=1)L[d].c();Me=T(),ie=y("h3"),ie.textContent="Options",S=T(),N=y("div"),B=y("div"),_e=y("h4"),_e.textContent="Guitar",We=k(`
        Show fretboard: `),Q=y("input"),nt=T(),lt=y("br"),rt=k(`
        Guitar tuning: `),Z=y("input"),it=T(),ot=y("br"),at=k(`
        Number of frets: `),K=y("input"),st=T(),J=y("div"),Oe=y("h4"),Oe.textContent="Keyboard",ct=k(`
        Show keyboard: `),oe=y("input"),ft=T(),ut=y("br"),ht=k(`
        Number of keys: `),q=y("input"),i(l,"class","svelte-yzdut8"),i(_,"class","info svelte-yzdut8"),i(n,"class","container svelte-yzdut8"),i(F,"class","svelte-yzdut8"),e[2]===void 0&&ze(()=>e[17].call(F)),i(Y,"class","input-l svelte-yzdut8"),i(Y,"placeholder","scale"),i(re,"class","input-top svelte-yzdut8"),rn(x,"position","relative"),i(V,"class","svelte-yzdut8"),e[4]===void 0&&ze(()=>e[19].call(V)),i(X,"class","main-input svelte-yzdut8"),i(ie,"class","svelte-yzdut8"),i(_e,"class","svelte-yzdut8"),i(Q,"type","checkbox"),i(Q,"class","svelte-yzdut8"),i(Z,"class","input-m svelte-yzdut8"),i(Z,"placeholder","E A D G B E"),i(Z,"maxlength","30"),i(K,"class","input-s svelte-yzdut8"),i(K,"placeholder","16"),i(K,"type","number"),i(K,"min","5"),i(K,"max","36"),i(B,"class","box svelte-yzdut8"),i(Oe,"class","svelte-yzdut8"),i(oe,"type","checkbox"),i(oe,"class","svelte-yzdut8"),i(q,"class","input-s svelte-yzdut8"),i(q,"placeholder","25"),i(q,"type","number"),i(q,"min","5"),i(q,"max","200"),i(J,"class","box svelte-yzdut8"),i(N,"id","options"),i(N,"class","container svelte-yzdut8"),i(W,"id","inputs"),i(W,"class","container svelte-yzdut8"),i(t,"class","svelte-yzdut8")},m(d,E){A(d,t,E),m(t,n),m(n,l),m(l,r),m(l,a),m(l,u),m(l,s),m(l,h),G&&G.m(l,null),m(n,f),m(n,_),m(_,p),m(_,v),m(_,U),H&&H.m(_,null),m(_,P),ae&&ae.m(_,null),m(t,Te),D&&D.m(t,null),m(t,Ie),M&&M.m(t,null),m(t,me),m(t,W),m(W,X),m(X,F);for(let b=0;b<j.length;b+=1)j[b]&&j[b].m(F,null);je(F,e[2],!0),m(X,Ae),m(X,x),m(x,Y),ne(Y,e[4]),m(x,Ce),m(x,re),m(re,Fe),m(re,Se),m(X,De),m(X,V);for(let b=0;b<L.length;b+=1)L[b]&&L[b].m(V,null);je(V,e[4],!0),m(W,Me),m(W,ie),m(W,S),m(W,N),m(N,B),m(B,_e),m(B,We),m(B,Q),Q.checked=e[0].show,m(B,nt),m(B,lt),m(B,rt),m(B,Z),ne(Z,e[0].tuningInput),m(B,it),m(B,ot),m(B,at),m(B,K),ne(K,e[0].frets),m(N,st),m(N,J),m(J,Oe),m(J,ct),m(J,oe),oe.checked=e[1].show,m(J,ft),m(J,ut),m(J,ht),m(J,q),ne(q,e[1].keys),ee=!0,Re||(mt=[te(F,"change",e[17]),te(Y,"input",e[18]),te(V,"change",e[19]),te(Q,"change",e[20]),te(Z,"input",e[21]),te(K,"input",e[22]),te(oe,"change",e[23]),te(q,"input",e[24])],Re=!0)},p(d,E){if((!ee||E[0]&132)&&o!==(o=(d[7][d[2]]??d[2])+"")&&R(a,o),(!ee||E[0]&8)&&c!==(c=(Pt(d[3],O)?Ht(d[3],O).join("/"):"(unknown)")+"")&&R(s,c),d[8].length>0?G?G.p(d,E):(G=Kt(d),G.c(),G.m(l,null)):G&&(G.d(1),G=null),(!ee||E[0]&32)&&g!==(g=Lt(jt(d[5])).join("-")+"")&&R(v,g),d[5].length!==O?H?H.p(d,E):(H=qt(d),H.c(),H.m(_,P)):H&&(H.d(1),H=null),d[12]&&ae.p(d,E),d[1].show?D?(D.p(d,E),E[0]&2&&$(D,1)):(D=Ut(d),D.c(),$(D,1),D.m(t,Ie)):D&&(vt(),be(D,1,1,()=>{D=null}),bt()),d[0].show?M?(M.p(d,E),E[0]&1&&$(M,1)):(M=Xt(d),M.c(),$(M,1),M.m(t,me)):M&&(vt(),be(M,1,1,()=>{M=null}),bt()),E[0]&8320){de=d[13]();let b;for(b=0;b<de.length;b+=1){const Ne=Vt(d,de,b);j[b]?j[b].p(Ne,E):(j[b]=Yt(Ne),j[b].c(),j[b].m(F,null))}for(;b<j.length;b+=1)j[b].d(1);j.length=de.length}if(E[0]&8196&&je(F,d[2]),E[0]&16&&Y.value!==d[4]&&ne(Y,d[4]),(!ee||E[0]&512)&&R(Se,d[9]),E&0){pe=Object.entries(Gt([],O));let b;for(b=0;b<pe.length;b+=1){const Ne=Rt(d,pe,b);L[b]?L[b].p(Ne,E):(L[b]=Jt(Ne),L[b].c(),L[b].m(V,null))}for(;b<L.length;b+=1)L[b].d(1);L.length=pe.length}E[0]&16&&je(V,d[4]),E[0]&1&&(Q.checked=d[0].show),E[0]&1&&Z.value!==d[0].tuningInput&&ne(Z,d[0].tuningInput),E[0]&1&&Ge(K.value)!==d[0].frets&&ne(K,d[0].frets),E[0]&2&&(oe.checked=d[1].show),E[0]&2&&Ge(q.value)!==d[1].keys&&ne(q,d[1].keys)},i(d){ee||($(D),$(M),ee=!0)},o(d){be(D),be(M),ee=!1},d(d){d&&I(t),G&&G.d(),H&&H.d(),ae&&ae.d(),D&&D.d(),M&&M.d(),fe(j,d),fe(L,d),Re=!1,we(mt)}}}const O=12,jn="english",Ln=({name:e})=>e;function Gn(e,t,n){var ie;let l,r,o,a,u,c,s;const h={0:"A",2:"B",3:"C",5:"D",7:"E",8:"F",10:"G"},f={show:!0,frets:16,tuningInput:"E A D G B E"},_={show:!1,keys:25},p=new URLSearchParams(window.location.hash.substring(1));let g=((ie=p.get("root"))==null?void 0:ie.toUpperCase())??h[0],v=2901,U=p.get("input")??"1 0 0 1 0 1 0 1 0 0 1 0",P="";const Te=p.get("debug")==="true",Ie=S=>S.trim().replace(/ *[,\|]+ */g," ").split(" "),me=S=>Ie(S.replace(/[Bb♭–—]/g,"-").replace(/[#♯]/g,"+")).map(N=>N.replace(/^([-+]{0,2})([^-+]*)([^-+]{0,2})$/,"$2$1$3")),W=()=>new Array(O).fill(0).map((S,N)=>h[N]??null).map((S,N,B)=>S===null?[B[(N+O-1)%O]+"+",B[(N+1)%O]+"-"]:S).reduce((S,N)=>[...S,...Array.isArray(N)?N:[N]]),X=S=>{if(S==="")return["none",null];n(9,P="unrecognized");const N=S.replace(/[ ,\|\-]/g,"");if(N.match(/^[01]{4,}/))n(9,P="Binary"),n(3,v=Number.parseInt(N,2));else if(N.match(/^[0-9a-fA-F]{3}$/))n(9,P="Hexadecimal"),n(5,F=kn(S).split("").map(B=>+B)),n(3,v=Number.parseInt(S,16));else if(N.match(/^[1-5\/-TWSH]{3,}$/)&&N.match(/[TWSH]/)){n(9,P="Tone/Steps");const B=S.replaceAll("x","1").replaceAll("-","0");n(5,F=Nn(B)),n(3,v=Number.parseInt(F.join(""),2))}else if(S.length>1){const B=me(S);n(5,F=yn(B)),n(3,v=Number.parseInt(F.join(""),2)),n(9,P="Intervals (♭/♯)")}return[P,v??null]};let F;const Ae=h[0],x=S=>r[S]??S;function Y(){g=dt(this),n(2,g),n(13,W)}function Ce(){U=this.value,n(4,U)}function re(){U=dt(this),n(4,U)}function Fe(){f.show=this.checked,n(0,f)}function Se(){f.tuningInput=this.value,n(0,f)}function De(){f.frets=Ge(this.value),n(0,f)}function V(){_.show=this.checked,n(1,_)}function Me(){_.keys=Ge(this.value),n(1,_)}return e.$$.update=()=>{e.$$.dirty[0]&16&&n(9,[P,v]=X(U),P,(n(3,v),n(4,U))),e.$$.dirty[0]&8&&n(5,F=Sn(v??0)),e.$$.dirty[0]&32&&n(8,o=En(F)),e.$$.dirty[0]&452&&n(15,a=Fn(o,g,Ae,O,h,{notes:l,intervals:r})),e.$$.dirty[0]&32768&&n(14,u=(S,N)=>{const B=tt(h,Ae,S),_e=In(a,B);return new Array(Math.min(+N,200)).fill(null).map((We,Q)=>_e[Q%O])}),e.$$.dirty[0]&16386&&n(11,c=u("A",_.keys)),e.$$.dirty[0]&16385&&n(10,s=me(f.tuningInput.toUpperCase()).map(S=>u(S,+f.frets+1)))},n(7,l=Ot(Wt.chromaticVariants,jn)),n(6,r=Ot(Wt.interval,"english")),[f,_,g,v,U,F,r,l,o,P,s,c,Te,W,u,a,x,Y,Ce,re,Fe,Se,De,V,Me]}class Hn extends et{constructor(t){super(),xe(this,t,Gn,On,Je,{},null,[-1,-1])}}new Hn({target:document.getElementById("app")});
