(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function le(){}function Qt(e){return e()}function _t(){return Object.create(null)}function ke(e){e.forEach(Qt)}function Zt(e){return typeof e=="function"}function Je(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function nn(e){return Object.keys(e).length===0}function m(e,t){e.appendChild(t)}function A(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function fe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function T(){return k(" ")}function he(){return k("")}function te(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function i(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ge(e){return e===""?null:+e}function ln(e){return Array.from(e.childNodes)}function R(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ne(e,t){e.value=t??""}function rn(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function je(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t){l.selected=!0;return}}e.selectedIndex=-1}function dt(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let Qe;function Ne(e){Qe=e}const ve=[],pt=[],Oe=[],gt=[],on=Promise.resolve();let Ke=!1;function an(){Ke||(Ke=!0,on.then($t))}function ze(e){Oe.push(e)}const Ve=new Set;let ge=0;function $t(){if(ge!==0)return;const e=Qe;do{try{for(;ge<ve.length;){const t=ve[ge];ge++,Ne(t),sn(t.$$)}}catch(t){throw ve.length=0,ge=0,t}for(Ne(null),ve.length=0,ge=0;pt.length;)pt.pop()();for(let t=0;t<Oe.length;t+=1){const n=Oe[t];Ve.has(n)||(Ve.add(n),n())}Oe.length=0}while(ve.length);for(;gt.length;)gt.pop()();Ke=!1,Ve.clear(),Ne(e)}function sn(e){if(e.fragment!==null){e.update(),ke(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ze)}}const Le=new Set;let se;function vt(){se={r:0,c:[],p:se}}function bt(){se.r||ke(se.c),se=se.p}function $(e,t){e&&e.i&&(Le.delete(e),e.i(t))}function be(e,t,n,l){if(e&&e.o){if(Le.has(e))return;Le.add(e),se.c.push(()=>{Le.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function xt(e){e&&e.c()}function Ze(e,t,n,l){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),l||ze(()=>{const s=e.$$.on_mount.map(Qt).filter(Zt);e.$$.on_destroy?e.$$.on_destroy.push(...s):ke(s),e.$$.on_mount=[]}),o.forEach(ze)}function $e(e,t){const n=e.$$;n.fragment!==null&&(ke(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function cn(e,t){e.$$.dirty[0]===-1&&(ve.push(e),an(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,l,r,o,s,u=[-1]){const c=Qe;Ne(e);const a=e.$$={fragment:null,ctx:[],props:o,update:le,not_equal:r,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:_t(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};s&&s(a.root);let h=!1;if(a.ctx=n?n(e,t.props||{},(f,_,...p)=>{const g=p.length?p[0]:_;return a.ctx&&r(a.ctx[f],a.ctx[f]=g)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](g),h&&cn(e,f)),_}):[],a.update(),h=!0,ke(a.before_update),a.fragment=l?l(a.ctx):!1,t.target){if(t.hydrate){const f=ln(t.target);a.fragment&&a.fragment.l(f),f.forEach(I)}else a.fragment&&a.fragment.c();t.intro&&$(e.$$.fragment),Ze(e,t.target,t.anchor,t.customElement),$t()}Ne(c)}class et{$destroy(){$e(this,1),this.$destroy=le}$on(t,n){if(!Zt(n))return le;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!nn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function yt(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function kt(e,t,n){const l=e.slice();return l[15]=t[n],l[17]=n,l}function wt(e,t,n){const l=e.slice();return l[18]=t[n],l[17]=n,l}function It(e){let t,n,l,r=e[1](e[17])===2,o,s=r&&At(e);return{c(){t=C("circle"),s&&s.c(),o=he(),i(t,"cy",n=e[7]()+(e[1](e[17])===2?e[7]()/3:0)),i(t,"cx",l=e[5](e[17]+1)),i(t,"r",8),i(t,"fill","rgba(100, 100, 100, .5)")},m(u,c){A(u,t,c),s&&s.m(u,c),A(u,o,c)},p(u,c){c&2&&n!==(n=u[7]()+(u[1](u[17])===2?u[7]()/3:0))&&i(t,"cy",n),c&32&&l!==(l=u[5](u[17]+1))&&i(t,"cx",l),c&2&&(r=u[1](u[17])===2),r?s?s.p(u,c):(s=At(u),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(u){u&&I(t),s&&s.d(u),u&&I(o)}}}function At(e){let t,n;return{c(){t=C("circle"),i(t,"cy",e[7]()-e[7]()/3),i(t,"cx",n=e[5](e[17]+1)),i(t,"r",8),i(t,"fill","#aaa")},m(l,r){A(l,t,r)},p(l,r){r&32&&n!==(n=l[5](l[17]+1))&&i(t,"cx",n)},d(l){l&&I(t)}}}function St(e){let t,n,l,r,o=e[17]+1+"",s,u,c=e[1](e[17])!==0,a,h=c&&It(e);return{c(){t=C("rect"),r=C("text"),s=k(o),h&&h.c(),a=he(),i(t,"x",n=e[3](e[17]+1)),i(t,"y","0"),i(t,"width",e[17]===0?4:2),i(t,"height",ce-Be),i(t,"fill",l=e[2].fret),i(r,"x",u=e[5](e[17]+1)),i(r,"y",ce-Be/2),i(r,"dominant-baseline","middle"),i(r,"text-anchor","middle"),i(r,"class","svelte-1pxvyqd")},m(f,_){A(f,t,_),A(f,r,_),m(r,s),h&&h.m(f,_),A(f,a,_)},p(f,_){_&8&&n!==(n=f[3](f[17]+1))&&i(t,"x",n),_&4&&l!==(l=f[2].fret)&&i(t,"fill",l),_&32&&u!==(u=f[5](f[17]+1))&&i(r,"x",u),_&2&&(c=f[1](f[17])!==0),c?h?h.p(f,_):(h=It(f),h.c(),h.m(a.parentNode,a)):h&&(h.d(1),h=null)},d(f){f&&I(t),f&&I(r),h&&h.d(f),f&&I(a)}}}function Nt(e){let t,n,l,r;return{c(){t=C("circle"),i(t,"cx",n=e[5](e[17])),i(t,"cy",l=e[6](e[14])),i(t,"r",19),i(t,"fill",r=[1,"1","I","T"].indexOf(e[15].interval)!==-1?e[2].key.root:e[2].key.selected),i(t,"stroke","rgba(0, 0, 0, .9)"),i(t,"stroke-width","1")},m(o,s){A(o,t,s)},p(o,s){s&32&&n!==(n=o[5](o[17]))&&i(t,"cx",n),s&64&&l!==(l=o[6](o[14]))&&i(t,"cy",l),s&5&&r!==(r=[1,"1","I","T"].indexOf(o[15].interval)!==-1?o[2].key.root:o[2].key.selected)&&i(t,"fill",r)},d(o){o&&I(t)}}}function Bt(e){let t,n=(e[15].active?`${e[15].interval}/${e[15].name}`:e[15].name)+"",l,r,o,s,u=e[15].active&&Nt(e);return{c(){u&&u.c(),t=C("text"),l=k(n),i(t,"x",r=e[5](e[17])),i(t,"y",o=e[6](e[14])+1),i(t,"dominant-baseline","middle"),i(t,"text-anchor","middle"),i(t,"fill",s=`rgba(0, 0, 0, ${e[15].active?"1":".6"})`),i(t,"class","svelte-1pxvyqd")},m(c,a){u&&u.m(c,a),A(c,t,a),m(t,l)},p(c,a){c[15].active?u?u.p(c,a):(u=Nt(c),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),a&1&&n!==(n=(c[15].active?`${c[15].interval}/${c[15].name}`:c[15].name)+"")&&R(l,n),a&32&&r!==(r=c[5](c[17]))&&i(t,"x",r),a&64&&o!==(o=c[6](c[14])+1)&&i(t,"y",o),a&1&&s!==(s=`rgba(0, 0, 0, ${c[15].active?"1":".6"})`)&&i(t,"fill",s)},d(c){u&&u.d(c),c&&I(t)}}}function zt(e){let t,n,l,r,o,s=e[12],u=[];for(let c=0;c<s.length;c+=1)u[c]=Bt(kt(e,s,c));return{c(){t=C("rect");for(let c=0;c<u.length;c+=1)u[c].c();o=he(),i(t,"x",n=e[3](1)),i(t,"y",l=e[6](e[14])),i(t,"width",He),i(t,"height",1+Math.round(2/(e[14]+1)*100)/100),i(t,"fill",r=e[2].cord)},m(c,a){A(c,t,a);for(let h=0;h<u.length;h+=1)u[h].m(c,a);A(c,o,a)},p(c,a){if(a&8&&n!==(n=c[3](1))&&i(t,"x",n),a&64&&l!==(l=c[6](c[14]))&&i(t,"y",l),a&4&&r!==(r=c[2].cord)&&i(t,"fill",r),a&101){s=c[12];let h;for(h=0;h<s.length;h+=1){const f=kt(c,s,h);u[h]?u[h].p(f,a):(u[h]=Bt(f),u[h].c(),u[h].m(o.parentNode,o))}for(;h<u.length;h+=1)u[h].d(1);u.length=s.length}},d(c){c&&I(t),fe(u,c),c&&I(o)}}}function fn(e){let t,n,l,r,o=Array(e[4]),s=[];for(let a=0;a<o.length;a+=1)s[a]=St(wt(e,o,a));let u=e[0],c=[];for(let a=0;a<u.length;a+=1)c[a]=zt(yt(e,u,a));return{c(){t=C("svg"),n=C("rect");for(let a=0;a<s.length;a+=1)s[a].c();r=he();for(let a=0;a<c.length;a+=1)c[a].c();i(n,"width","100%"),i(n,"height","100%"),i(n,"fill",l=e[2].background),i(t,"width",He),i(t,"height",ce),i(t,"viewBox",`0 0 ${He} ${ce}`),i(t,"class","svelte-1pxvyqd")},m(a,h){A(a,t,h),m(t,n);for(let f=0;f<s.length;f+=1)s[f].m(t,null);m(t,r);for(let f=0;f<c.length;f+=1)c[f].m(t,null)},p(a,[h]){if(h&4&&l!==(l=a[2].background)&&i(n,"fill",l),h&190){o=Array(a[4]);let f;for(f=0;f<o.length;f+=1){const _=wt(a,o,f);s[f]?s[f].p(_,h):(s[f]=St(_),s[f].c(),s[f].m(t,r))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}if(h&109){u=a[0];let f;for(f=0;f<u.length;f+=1){const _=yt(a,u,f);c[f]?c[f].p(_,h):(c[f]=zt(_),c[f].c(),c[f].m(t,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=u.length}},i:le,o:le,d(a){a&&I(t),fe(s,a),fe(c,a)}}}const He=1e3,ce=280,Be=30;function un(e,t,n){let l,r,o,s,u,c,a,{scales:h}=t,{fretDecoration:f=v=>[0,0,1,0,1,0,1,0,1,0,0,2][v%12]}=t;const _={background:"transparent",cord:"rgba(0,0,0,.5)",fret:"rgb(50,50,50)",key:{selected:"rgba(255, 70, 85, .85)",root:"rgba(250, 140, 40, .85)"}};let{colors:p=_}=t;const g=()=>(ce-Be)/2;return e.$$set=v=>{"scales"in v&&n(0,h=v.scales),"fretDecoration"in v&&n(1,f=v.fretDecoration),"colors"in v&&n(2,p=v.colors)},e.$$.update=()=>{e.$$.dirty&1&&n(11,l=h.length),e.$$.dirty&1&&n(4,r=(h??[[]])[0].length-1),e.$$.dirty&16&&n(9,o=He/(r+.7)),e.$$.dirty&2048&&n(10,s=(ce-Be)/l),e.$$.dirty&1024&&n(6,u=v=>ce-Be-s*v-s/2),e.$$.dirty&512&&n(3,c=v=>o*v-o/3),e.$$.dirty&520&&n(5,a=v=>v===0?c(v)+o/1.5:c(v)+o/2)},[h,f,p,c,r,a,u,g,_,o,s,l]}class hn extends et{constructor(t){super(),xe(this,t,un,fn,Je,{scales:0,fretDecoration:1,defaultColors:8,colors:2})}get defaultColors(){return this.$$.ctx[8]}}function Et(e,t,n){const l=e.slice();return l[10]=t[n],l[12]=n,l}function Tt(e,t,n){const l=e.slice();return l[10]=t[n],l[12]=n,l}function Ct(e){let t,n,l,r,o,s=e[12]+1+"",u,c,a,h=(e[10].active?`${e[10].interval}/${e[10].name}`:e[10].name)+"",f,_,p;return{c(){t=C("g"),n=C("rect"),o=C("text"),u=k(s),a=C("text"),f=k(h),i(n,"x",0),i(n,"y",e[3].top),i(n,"width",l=e[2]-Ue),i(n,"height",e[4]),i(n,"fill",r=e[10].active?"#f4b4b4":"#f4f4f4"),i(o,"x",c=e[2]/2),i(o,"y",(ue-e[3].bottom)*.95),i(o,"fill","#000"),i(o,"dominant-baseline","middle"),i(o,"text-anchor","middle"),i(o,"class","svelte-kzf8t5"),i(a,"x",_=e[2]/2),i(a,"y",ue*.75),i(a,"dominant-baseline","middle"),i(a,"text-anchor","middle"),i(a,"fill","rgba(0, 0, 0, 1)"),i(a,"class","svelte-kzf8t5"),i(t,"class","key"),i(t,"transform",p=`translate(${e[5](e[12],e[2])})`)},m(g,v){A(g,t,v),m(t,n),m(t,o),m(o,u),m(t,a),m(a,f)},p(g,v){v&4&&l!==(l=g[2]-Ue)&&i(n,"width",l),v&1&&r!==(r=g[10].active?"#f4b4b4":"#f4f4f4")&&i(n,"fill",r),v&4&&c!==(c=g[2]/2)&&i(o,"x",c),v&1&&h!==(h=(g[10].active?`${g[10].interval}/${g[10].name}`:g[10].name)+"")&&R(f,h),v&4&&_!==(_=g[2]/2)&&i(a,"x",_),v&4&&p!==(p=`translate(${g[5](g[12],g[2])})`)&&i(t,"transform",p)},d(g){g&&I(t)}}}function Ft(e){let t,n=e[10].tone&&Ct(e);return{c(){n&&n.c(),t=he()},m(l,r){n&&n.m(l,r),A(l,t,r)},p(l,r){l[10].tone?n?n.p(l,r):(n=Ct(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&I(t)}}}function Dt(e){let t,n,l,r,o,s,u=e[12]+1+"",c,a,h=(e[10].active?`${e[10].interval}/${e[10].name}`:e[10].name)+"",f,_;return{c(){t=C("g"),n=C("rect"),s=C("text"),c=k(u),a=C("text"),f=k(h),i(n,"x",l=-e[2]*.9/2),i(n,"y",e[3].top),i(n,"width",r=e[2]*.9),i(n,"height",ue*.55),i(n,"fill",o=e[10].active?"#912":"#000"),i(s,"y",20),i(s,"fill","#fff"),i(s,"dominant-baseline","middle"),i(s,"text-anchor","middle"),i(s,"class","svelte-kzf8t5"),i(a,"y",ue*.25),i(a,"dominant-baseline","middle"),i(a,"text-anchor","middle"),i(a,"fill","#fff"),i(a,"class","svelte-kzf8t5"),i(t,"class","key"),i(t,"transform",_=`translate(${e[5](e[12],e[2])+e[2]})`)},m(p,g){A(p,t,g),m(t,n),m(t,s),m(s,c),m(t,a),m(a,f)},p(p,g){g&4&&l!==(l=-p[2]*.9/2)&&i(n,"x",l),g&4&&r!==(r=p[2]*.9)&&i(n,"width",r),g&1&&o!==(o=p[10].active?"#912":"#000")&&i(n,"fill",o),g&1&&h!==(h=(p[10].active?`${p[10].interval}/${p[10].name}`:p[10].name)+"")&&R(f,h),g&4&&_!==(_=`translate(${p[5](p[12],p[2])+p[2]})`)&&i(t,"transform",_)},d(p){p&&I(t)}}}function Mt(e){let t,n=!e[10].tone&&Dt(e);return{c(){n&&n.c(),t=he()},m(l,r){n&&n.m(l,r),A(l,t,r)},p(l,r){l[10].tone?n&&(n.d(1),n=null):n?n.p(l,r):(n=Dt(l),n.c(),n.m(t.parentNode,t))},d(l){n&&n.d(l),l&&I(t)}}}function mn(e){let t,n,l,r,o=e[0],s=[];for(let a=0;a<o.length;a+=1)s[a]=Ft(Tt(e,o,a));let u=e[0],c=[];for(let a=0;a<u.length;a+=1)c[a]=Mt(Et(e,u,a));return{c(){t=C("svg"),n=C("rect");for(let a=0;a<s.length;a+=1)s[a].c();r=he();for(let a=0;a<c.length;a+=1)c[a].c();i(n,"width","100%"),i(n,"height","100%"),i(n,"fill",l=e[1].background),i(t,"width",qe),i(t,"height",ue),i(t,"viewBox",`0 0 ${qe} ${ue}`),i(t,"class","svelte-kzf8t5")},m(a,h){A(a,t,h),m(t,n);for(let f=0;f<s.length;f+=1)s[f].m(t,null);m(t,r);for(let f=0;f<c.length;f+=1)c[f].m(t,null)},p(a,[h]){if(h&2&&l!==(l=a[1].background)&&i(n,"fill",l),h&61){o=a[0];let f;for(f=0;f<o.length;f+=1){const _=Tt(a,o,f);s[f]?s[f].p(_,h):(s[f]=Ft(_),s[f].c(),s[f].m(t,r))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}if(h&45){u=a[0];let f;for(f=0;f<u.length;f+=1){const _=Et(a,u,f);c[f]?c[f].p(_,h):(c[f]=Mt(_),c[f].c(),c[f].m(t,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=u.length}},i:le,o:le,d(a){a&&I(t),fe(s,a),fe(c,a)}}}const qe=1e3,ue=240,Ue=2;function _n(e,t,n){let l,r;const o={background:"#000",key:{black:"#222",white:"#fff",root:"rgba(250, 140, 80, .85)",default:"rgba(255, 80, 80, .85)"}};let{scale:s=[]}=t,{colors:u=o}=t;const c={top:2,bottom:2,left:2,right:2},a=ue-c.bottom-c.top;let h=[],f=0;const _=(p,g)=>{if(p===0||p===1)return c.left;if(g!==f&&(h=[]),h[p])return h[p];const v=_(p-1,g);return h[p]=v,s[p]&&s[p].tone&&(h[p]+=g),f=g,h[p]};return e.$$set=p=>{"scale"in p&&n(0,s=p.scale),"colors"in p&&n(1,u=p.colors)},e.$$.update=()=>{e.$$.dirty&1&&n(7,l=s.filter(p=>p.tone)),e.$$.dirty&128&&n(2,r=(qe+Ue-c.left-c.right)/l.length)},[s,u,r,c,a,_,o,l]}class dn extends et{constructor(t){super(),xe(this,t,_n,mn,Je,{defaultColors:6,scale:0,colors:1})}get defaultColors(){return this.$$.ctx[6]}}const ye=[["1"],["2-"],["2"],["3-","2+"],["3"],["4"],["4+","5-"],["5"],["5+","6-"],["6"],["7-","6+"],["7"]],pn=(e,t)=>Object.keys(e).find(n=>e[n]===t),gn=e=>{let t=-1;return ye.find((n,l)=>(n.find(r=>{if(r===e)return t=l,!0}),t!==-1)),t},vn=e=>(Array.isArray(e)||(e=e.replace(/ *[,\|]+ */g," ").split(" ")),e.map(gn)),bn=e=>{const t=vn(e),n=new Array(ye.length).fill(0);return t.forEach(l=>n[l]=1),n},jt=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,l])=>[n,l[t]])),tt=(e,t,n)=>(Ye(n,e)-Ye(t,e)+12)%12,yn=e=>e.split("").map(t=>parseInt(t,16).toString(2).padStart(4,"0")).join(""),kn=e=>parseInt(e,10).toString(2).padStart(8,"0"),wn=(e,t)=>{const n=e.length;return e.slice(t%n,n).concat(e.slice(0,t%n))},In=e=>e.replace(/[-, \t]+/g," ").replaceAll("5H","1 0 0 0 0").replaceAll("2T","1 0 0 0 ").replaceAll("2W","1 0 0 0 ").replaceAll("T1/2","1 0 0 ").replaceAll("W1/2","1 0 0 ").replaceAll("3W2","1 0 0 ").replaceAll("3H","1 0 0 ").replaceAll("T","1 0 ").replaceAll("W","1 0 ").replaceAll("S","1 ").replaceAll("H","1 ").trim(),An=e=>{const t=[],n=Math.log2(e)+1|0;for(let l=0;l<n;++l)t[n-l-1]=e&1,e=e>>1;return t},Sn=e=>In(e).split(/ +/).map(t=>+t).filter(t=>t===0||t===1),Ot=e=>{let t=0,n=[];return e.forEach((l,r)=>{l===1&&r!==0&&(n.push(t),t=0),t++}),n.push(t),n},Lt=(e,t=["H","W","3H","2W","5H","3W","7H","4W","9H","5W"])=>e.map(n=>t[n-1]),Xe=e=>(e??"").replace(/[\+\-]*/g,""),en=e=>e===""?["",""]:[e.slice(0,1),e.slice(1,e.length)],Nn=e=>(e&&e[0]==="-"?-1:1)*e.length|0,tn=e=>{const[t,n]=en(e);return[t,Nn(n)]},Ye=(e,t)=>{const[n,l]=tn(e);return+pn(t,n)+l},Bn=e=>{const t={};return e.map((n,l)=>{if(n!==1)return null;l=l%ye.length;let[r]=ye[l],o=Xe(r);return t[o]===!0&&(r=ye[l][1]??ye[l][0],o=Xe(r)),t[o]=!0,r})},zn=(e,t)=>{const n=t<0?"-".repeat(-t):"+".repeat(t);return`${e}${n}`},En=(e,t,n,l)=>{const r=tt(l,e,t),o=n-r;return zn(t,o)},Tn=(e,t,n,l=1)=>{const r=Object.values(n),o=r.length,[s,u]=tn(t),c=r.indexOf(s);return e.map((a,h)=>{if(a===null)return null;const[f]=en(a),_=(+f-1+c)%o;let p=r[_],g=Xe(p);return En(s,g,h+u,n)})},Cn=(e,t,n,l,r,o={},s=12)=>{const u=Ye(n,r),c=Tn(e,t,r),a=tt(r,n,t);return[...Array(l)].map((h,f)=>{const _=(f-a+s)%s,p=e[_],g=c[_]||r[(u+f)%s]||r[(u+f-1)%s]+"+";return{interval:o.intervals[p]||p,tone:!!r[(u+f)%s],name:o.notes?o.notes[g]??g:g,active:c[_]||!1}})},E={common:"common",indian:"indian",carnatic:"carnatic",hindustani:"hindustani"},w=(e,t=[])=>({name:e,tags:Array.isArray(t)?t:[t]}),Pe={12:{2773:[w("Major"),w("Ionian"),w("Ionian"),w("Dheerasankarabharanam",E.carnatic),w("Bilaval",E.hindustani)],3676:[w("Kanakangi",E.carnatic)],3674:[w("Ratnangi",E.carnatic)],3673:[w("Ganamurti",E.carnatic)],3670:[w("Vanaspati",E.carnatic)],3669:[w("Manavati",E.carnatic)],3667:[w("Tanarupi",E.carnatic)],3420:[w("Senavati",E.carnatic)],3417:[w("Dhenuka",E.carnatic)],3414:[w("Natakapriya",E.carnatic)],3413:[w("Kokilapriya",E.carnatic)],3411:[w("Rupavati",E.carnatic)],3292:[w("Gayakapriya",E.carnatic)],3290:[w("Vakulabharanam",E.carnatic)],3289:[{name:"Byzantine"},w("Mayamalavagowla",E.carnatic),w("Bhairav",E.hindustani)],3286:[w("Chakravakam",E.carnatic)],3285:[w("Suryakantam",E.carnatic)],3283:[w("Hatakambari",E.carnatic)],2908:[w("Jhankaradhvani",E.carnatic)],2906:[w("Minor"),w("Aeolian"),w("Natabhairavi",E.carnatic)],2905:[w("Harmonic Minor"),w("Keeravani",E.carnatic)],2901:[{name:"Melodic Minor"}],2902:[{name:"Dorian"}],3418:[{name:"Phrygian"},w("Hanumatodi",E.carnatic)],2741:[{name:"Lydian"}],2774:[{name:"Mixolydian"}],3434:[{name:"Locrian"}],2730:[{name:"Whole-tone"}],4095:[{name:"Chromatic"}],2386:[{name:"Pentatonic Minor"}]}},Fn=(e=12)=>Pe[e]??{},Gt=(e,t=12)=>{const n=Object.entries(Fn(t)).map(([l,r])=>[+l,r.filter(({tags:o})=>o?o.includes(e[0]):!0)]).filter(([,l])=>l.length!==0);return Object.fromEntries(n)},Ht=(e,t=12)=>Object.values(Pe[t][+e]??[]).map(n=>n.name??""),Pt=(e,t=12)=>Pe[t]&&Pe[t][+(e??0)],Wt={chromaticVariants:{"C--":{english:"C♭♭",romance:"Do♭♭"},"C-":{english:"C♭",romance:"Do♭"},C:{english:"C",romance:"Do"},"C+":{english:"C♯",romance:"Do♯"},"C++":{english:"C♯♯",romance:"Do♯♯"},"D--":{english:"D♭♭",romance:"Re♭♭"},"D-":{english:"D♭",romance:"Re♭"},D:{english:"D",romance:"Re"},"D+":{english:"D♯",romance:"Re♯"},"D++":{english:"D♯♯",romance:"Re♯♯"},"E--":{english:"E♭♭",romance:"Mi♭♭"},"E-":{english:"E♭",romance:"Mi♭"},E:{english:"E",romance:"Mi"},"E+":{english:"E♯",romance:"Mi♯"},"E++":{english:"E♯♯",romance:"Mi♯♯"},"F--":{english:"F♭♭",romance:"Fa♭♭"},"F-":{english:"F♭",romance:"Fa♭"},F:{english:"F",romance:"MFa"},"F+":{english:"F♯",romance:"Fa♯"},"F++":{english:"F♯♯",romance:"Fa♯♯"},"G--":{english:"G♭♭",romance:"Mi♭♭"},"G-":{english:"G♭",romance:"Mi♭"},G:{english:"G",romance:"Mi"},"G+":{english:"G♯",romance:"Mi♯"},"G++":{english:"G♯♯",romance:"Mi♯♯"},"A--":{english:"A♭♭",romance:"La♭♭"},"A-":{english:"A♭",romance:"La♭"},A:{english:"A",romance:"La"},"A+":{english:"A♯",romance:"La♯"},"A++":{english:"A♯♯",romance:"La♯♯"},"B--":{english:"B♭♭",romance:"Si♭♭"},"B-":{english:"B♭",romance:"Si♭"},B:{english:"B",romance:"Si"},"B+":{english:"B♯",romance:"Si♯"},"B++":{english:"B♯♯",romance:"Si♯♯"}},interval:{1:{english:"1",roman:"I"},"2-":{english:"2♭",roman:"ii"},2:{english:"2",roman:"II"},"2+":{english:"2♯",roman:"II"},"3-":{english:"3♭",roman:"iii"},3:{english:"3",roman:"III"},4:{english:"4",roman:"IV"},"4+":{english:"4♯",roman:"IV"},"5-":{english:"5♭",roman:"v"},5:{english:"5",roman:"V"},"5+":{english:"5♯",roman:"V"},"6-":{english:"6♭",roman:"vi"},6:{english:"6",roman:"VI"},"6+":{english:"6♯",roman:"VI"},"7-":{english:"7♭",roman:"vii"},7:{english:"7",roman:"VII"}}};function Rt(e,t,n){const l=e.slice();return l[31]=t[n][0],l[32]=t[n][1],l}function Vt(e,t,n){const l=e.slice();return l[35]=t[n],l}function Kt(e){let t,n=e[8].filter(Boolean).map(e[16])+"",l,r;return{c(){t=k("("),l=k(n),r=k(")")},m(o,s){A(o,t,s),A(o,l,s),A(o,r,s)},p(o,s){s[0]&320&&n!==(n=o[8].filter(Boolean).map(o[16])+"")&&R(l,n)},d(o){o&&I(t),o&&I(l),o&&I(r)}}}function qt(e){let t,n,l=e[5].length<j?"short":"",r,o,s=e[5].length>j?"long":"",u;return{c(){t=y("span"),n=k("Scale is too "),r=k(l),o=T(),u=k(s),i(t,"class","warning svelte-yzdut8")},m(c,a){A(c,t,a),m(t,n),m(t,r),m(t,o),m(t,u)},p(c,a){a[0]&32&&l!==(l=c[5].length<j?"short":"")&&R(r,l),a[0]&32&&s!==(s=c[5].length>j?"long":"")&&R(u,s)},d(c){c&&I(t)}}}function Dn(e){let t,n,l,r,o,s;return{c(){t=y("br"),n=T(),l=y("small"),r=y("code"),o=k("steps: "),s=k(e[5])},m(u,c){A(u,t,c),A(u,n,c),A(u,l,c),m(l,r),m(r,o),m(r,s)},p(u,c){c[0]&32&&R(s,u[5])},d(u){u&&I(t),u&&I(n),u&&I(l)}}}function Ut(e){let t,n,l;return n=new dn({props:{scale:e[11]}}),{c(){t=y("div"),xt(n.$$.fragment),i(t,"id","keyboard"),i(t,"class","svelte-yzdut8")},m(r,o){A(r,t,o),Ze(n,t,null),l=!0},p(r,o){const s={};o[0]&2048&&(s.scale=r[11]),n.$set(s)},i(r){l||($(n.$$.fragment,r),l=!0)},o(r){be(n.$$.fragment,r),l=!1},d(r){r&&I(t),$e(n)}}}function Xt(e){let t,n,l;return n=new hn({props:{scales:e[10]}}),{c(){t=y("div"),xt(n.$$.fragment),i(t,"id","fretboard"),i(t,"class","svelte-yzdut8")},m(r,o){A(r,t,o),Ze(n,t,null),l=!0},p(r,o){const s={};o[0]&1024&&(s.scales=r[10]),n.$set(s)},i(r){l||($(n.$$.fragment,r),l=!0)},o(r){be(n.$$.fragment,r),l=!1},d(r){r&&I(t),$e(n)}}}function Yt(e){let t,n=(e[7][e[35]]??e[35])+"",l,r;return{c(){t=y("option"),l=k(n),r=T(),t.__value=e[35],t.value=t.__value},m(o,s){A(o,t,s),m(t,l),m(t,r)},p(o,s){s[0]&128&&n!==(n=(o[7][o[35]]??o[35])+"")&&R(l,n)},d(o){o&&I(t)}}}function Jt(e){let t,n=e[32].map(On).join("/")+"",l,r;return{c(){t=y("option"),l=k(n),r=T(),t.__value=kn(e[31]).split("").join(" "),t.value=t.__value},m(o,s){A(o,t,s),m(t,l),m(t,r)},p:le,d(o){o&&I(t)}}}function Mn(e){let t,n,l,r,o=(e[7][e[2]]??e[2])+"",s,u,c=(Pt(e[3],j)?Ht(e[3],j).join("/"):"(unknown)")+"",a,h,f,_,p,g=Lt(Ot(e[5])).join("-")+"",v,U,P,Ee,we,me,W,X,F,Ie,x,Y,Te,re,Ce,Ae,Fe,V,De,ie,S,N,B,_e,We,Q,nt,lt,rt,Z,it,ot,at,K,st,J,Me,ct,oe,ft,ut,ht,q,ee,Re,mt,O=e[8].length>0&&Kt(e),L=e[5].length!==j&&qt(e),ae=e[12]&&Dn(e),D=e[1].show&&Ut(e),M=e[0].show&&Xt(e),de=e[13](),G=[];for(let d=0;d<de.length;d+=1)G[d]=Yt(Vt(e,de,d));let pe=Object.entries(Gt([],j)),H=[];for(let d=0;d<pe.length;d+=1)H[d]=Jt(Rt(e,pe,d));return{c(){t=y("main"),n=y("div"),l=y("h2"),r=k(`Gamme –
      `),s=k(o),u=T(),a=k(c),h=k(` scale
      `),O&&O.c(),f=T(),_=y("div"),p=k("Intervals: "),v=k(g),U=T(),L&&L.c(),P=T(),ae&&ae.c(),Ee=T(),D&&D.c(),we=T(),M&&M.c(),me=T(),W=y("div"),X=y("div"),F=y("select");for(let d=0;d<G.length;d+=1)G[d].c();Ie=T(),x=y("div"),Y=y("input"),Te=T(),re=y("span"),Ce=k("Input type: "),Ae=k(e[9]),Fe=T(),V=y("select");for(let d=0;d<H.length;d+=1)H[d].c();De=T(),ie=y("h3"),ie.textContent="Options",S=T(),N=y("div"),B=y("div"),_e=y("h4"),_e.textContent="Guitar",We=k(`
        Show fretboard: `),Q=y("input"),nt=T(),lt=y("br"),rt=k(`
        Guitar tuning: `),Z=y("input"),it=T(),ot=y("br"),at=k(`
        Number of frets: `),K=y("input"),st=T(),J=y("div"),Me=y("h4"),Me.textContent="Keyboard",ct=k(`
        Show keyboard: `),oe=y("input"),ft=T(),ut=y("br"),ht=k(`
        Number of keys: `),q=y("input"),i(l,"class","svelte-yzdut8"),i(_,"class","info svelte-yzdut8"),i(n,"class","container svelte-yzdut8"),i(F,"class","svelte-yzdut8"),e[2]===void 0&&ze(()=>e[17].call(F)),i(Y,"class","input-l svelte-yzdut8"),i(Y,"placeholder","scale"),i(re,"class","input-top svelte-yzdut8"),rn(x,"position","relative"),i(V,"class","svelte-yzdut8"),e[4]===void 0&&ze(()=>e[19].call(V)),i(X,"class","main-input svelte-yzdut8"),i(ie,"class","svelte-yzdut8"),i(_e,"class","svelte-yzdut8"),i(Q,"type","checkbox"),i(Q,"class","svelte-yzdut8"),i(Z,"class","input-m svelte-yzdut8"),i(Z,"placeholder","E A D G B E"),i(Z,"maxlength","30"),i(K,"class","input-s svelte-yzdut8"),i(K,"placeholder","16"),i(K,"type","number"),i(K,"min","5"),i(K,"max","36"),i(B,"class","box svelte-yzdut8"),i(Me,"class","svelte-yzdut8"),i(oe,"type","checkbox"),i(oe,"class","svelte-yzdut8"),i(q,"class","input-s svelte-yzdut8"),i(q,"placeholder","25"),i(q,"type","number"),i(q,"min","5"),i(q,"max","200"),i(J,"class","box svelte-yzdut8"),i(N,"id","options"),i(N,"class","container svelte-yzdut8"),i(W,"id","inputs"),i(W,"class","container svelte-yzdut8"),i(t,"class","svelte-yzdut8")},m(d,z){A(d,t,z),m(t,n),m(n,l),m(l,r),m(l,s),m(l,u),m(l,a),m(l,h),O&&O.m(l,null),m(n,f),m(n,_),m(_,p),m(_,v),m(_,U),L&&L.m(_,null),m(_,P),ae&&ae.m(_,null),m(t,Ee),D&&D.m(t,null),m(t,we),M&&M.m(t,null),m(t,me),m(t,W),m(W,X),m(X,F);for(let b=0;b<G.length;b+=1)G[b].m(F,null);je(F,e[2]),m(X,Ie),m(X,x),m(x,Y),ne(Y,e[4]),m(x,Te),m(x,re),m(re,Ce),m(re,Ae),m(X,Fe),m(X,V);for(let b=0;b<H.length;b+=1)H[b].m(V,null);je(V,e[4]),m(W,De),m(W,ie),m(W,S),m(W,N),m(N,B),m(B,_e),m(B,We),m(B,Q),Q.checked=e[0].show,m(B,nt),m(B,lt),m(B,rt),m(B,Z),ne(Z,e[0].tuningInput),m(B,it),m(B,ot),m(B,at),m(B,K),ne(K,e[0].frets),m(N,st),m(N,J),m(J,Me),m(J,ct),m(J,oe),oe.checked=e[1].show,m(J,ft),m(J,ut),m(J,ht),m(J,q),ne(q,e[1].keys),ee=!0,Re||(mt=[te(F,"change",e[17]),te(Y,"input",e[18]),te(V,"change",e[19]),te(Q,"change",e[20]),te(Z,"input",e[21]),te(K,"input",e[22]),te(oe,"change",e[23]),te(q,"input",e[24])],Re=!0)},p(d,z){if((!ee||z[0]&132)&&o!==(o=(d[7][d[2]]??d[2])+"")&&R(s,o),(!ee||z[0]&8)&&c!==(c=(Pt(d[3],j)?Ht(d[3],j).join("/"):"(unknown)")+"")&&R(a,c),d[8].length>0?O?O.p(d,z):(O=Kt(d),O.c(),O.m(l,null)):O&&(O.d(1),O=null),(!ee||z[0]&32)&&g!==(g=Lt(Ot(d[5])).join("-")+"")&&R(v,g),d[5].length!==j?L?L.p(d,z):(L=qt(d),L.c(),L.m(_,P)):L&&(L.d(1),L=null),d[12]&&ae.p(d,z),d[1].show?D?(D.p(d,z),z[0]&2&&$(D,1)):(D=Ut(d),D.c(),$(D,1),D.m(t,we)):D&&(vt(),be(D,1,1,()=>{D=null}),bt()),d[0].show?M?(M.p(d,z),z[0]&1&&$(M,1)):(M=Xt(d),M.c(),$(M,1),M.m(t,me)):M&&(vt(),be(M,1,1,()=>{M=null}),bt()),z[0]&8320){de=d[13]();let b;for(b=0;b<de.length;b+=1){const Se=Vt(d,de,b);G[b]?G[b].p(Se,z):(G[b]=Yt(Se),G[b].c(),G[b].m(F,null))}for(;b<G.length;b+=1)G[b].d(1);G.length=de.length}if(z[0]&8196&&je(F,d[2]),z[0]&16&&Y.value!==d[4]&&ne(Y,d[4]),(!ee||z[0]&512)&&R(Ae,d[9]),z&0){pe=Object.entries(Gt([],j));let b;for(b=0;b<pe.length;b+=1){const Se=Rt(d,pe,b);H[b]?H[b].p(Se,z):(H[b]=Jt(Se),H[b].c(),H[b].m(V,null))}for(;b<H.length;b+=1)H[b].d(1);H.length=pe.length}z[0]&16&&je(V,d[4]),z[0]&1&&(Q.checked=d[0].show),z[0]&1&&Z.value!==d[0].tuningInput&&ne(Z,d[0].tuningInput),z[0]&1&&Ge(K.value)!==d[0].frets&&ne(K,d[0].frets),z[0]&2&&(oe.checked=d[1].show),z[0]&2&&Ge(q.value)!==d[1].keys&&ne(q,d[1].keys)},i(d){ee||($(D),$(M),ee=!0)},o(d){be(D),be(M),ee=!1},d(d){d&&I(t),O&&O.d(),L&&L.d(),ae&&ae.d(),D&&D.d(),M&&M.d(),fe(G,d),fe(H,d),Re=!1,ke(mt)}}}const j=12,jn="english",On=({name:e})=>e;function Ln(e,t,n){var ie;let l,r,o,s,u,c,a;const h={0:"A",2:"B",3:"C",5:"D",7:"E",8:"F",10:"G"},f={show:!0,frets:16,tuningInput:"E A D G B E"},_={show:!1,keys:25},p=new URLSearchParams(window.location.hash.substring(1));let g=((ie=p.get("root"))==null?void 0:ie.toUpperCase())??h[0],v=2901,U=p.get("input")??"1 0 0 1 0 1 0 1 0 0 1 0",P="";const Ee=p.get("debug")==="true",we=S=>S.trim().replace(/ *[,\|]+ */g," ").split(" "),me=S=>we(S.replace(/[Bb♭–—]/g,"-").replace(/[#♯]/g,"+")).map(N=>N.replace(/^([-+]{0,2})([^-+]*)([^-+]{0,2})$/,"$2$1$3")),W=()=>new Array(j).fill(0).map((S,N)=>h[N]??null).map((S,N,B)=>S===null?[B[(N+j-1)%j]+"+",B[(N+1)%j]+"-"]:S).reduce((S,N)=>[...S,...Array.isArray(N)?N:[N]]),X=S=>{if(S==="")return["none",null];n(9,P="unrecognized");const N=S.replace(/[ ,\|\-]/g,"");if(N.match(/^[01]{4,}/))n(9,P="Binary"),n(3,v=Number.parseInt(N,2));else if(N.match(/^[0-9a-fA-F]{3}$/))n(9,P="Hexadecimal"),n(5,F=yn(S).split("").map(B=>+B)),n(3,v=Number.parseInt(S,16));else if(N.match(/^[1-5\/-TWSH]{3,}$/)&&N.match(/[TWSH]/)){n(9,P="Tone/Steps");const B=S.replaceAll("x","1").replaceAll("-","0");n(5,F=Sn(B)),n(3,v=Number.parseInt(F.join(""),2))}else if(S.length>1){const B=me(S);n(5,F=bn(B)),n(3,v=Number.parseInt(F.join(""),2)),n(9,P="Intervals (♭/♯)")}return[P,v??null]};let F;const Ie=h[0],x=S=>r[S]??S;function Y(){g=dt(this),n(2,g),n(13,W)}function Te(){U=this.value,n(4,U)}function re(){U=dt(this),n(4,U)}function Ce(){f.show=this.checked,n(0,f)}function Ae(){f.tuningInput=this.value,n(0,f)}function Fe(){f.frets=Ge(this.value),n(0,f)}function V(){_.show=this.checked,n(1,_)}function De(){_.keys=Ge(this.value),n(1,_)}return e.$$.update=()=>{e.$$.dirty[0]&16&&n(9,[P,v]=X(U),P,(n(3,v),n(4,U))),e.$$.dirty[0]&8&&n(5,F=An(v??0)),e.$$.dirty[0]&32&&n(8,o=Bn(F)),e.$$.dirty[0]&452&&n(15,s=Cn(o,g,Ie,j,h,{notes:l,intervals:r})),e.$$.dirty[0]&32768&&n(14,u=(S,N)=>{const B=tt(h,Ie,S),_e=wn(s,B);return new Array(Math.min(+N,200)).fill(null).map((We,Q)=>_e[Q%j])}),e.$$.dirty[0]&16386&&n(11,c=u("A",_.keys)),e.$$.dirty[0]&16385&&n(10,a=me(f.tuningInput.toUpperCase()).map(S=>u(S,+f.frets+1)))},n(7,l=jt(Wt.chromaticVariants,jn)),n(6,r=jt(Wt.interval,"english")),[f,_,g,v,U,F,r,l,o,P,a,c,Ee,W,u,s,x,Y,Te,re,Ce,Ae,Fe,V,De]}class Gn extends et{constructor(t){super(),xe(this,t,Ln,Mn,Je,{},null,[-1,-1])}}new Gn({target:document.getElementById("app")});
